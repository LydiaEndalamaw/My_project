(self.modernJsonp=self.modernJsonp||[]).push([["15549"],{452391:function(e,t,n){n.d(t,{BW:()=>U,Cj:()=>w,Cp:()=>b,G1:()=>v,Lp:()=>H,TG:()=>F,Wd:()=>M,ZP:()=>x,cT:()=>g,cY:()=>P,hA:()=>G,ln:()=>W,mQ:()=>C,ml:()=>B,p:()=>Z,tX:()=>f,tt:()=>D,xw:()=>Y});var i=n(604941),r=n(872103),s=n(792323);let a=new i.Ry(10),o=new i.H3([a]),l=new i.H3([o]),E=new i.H3([l]),_=new i.H3([E]),d=Object.freeze({AGE_18_24:"18-24",AGE_21_24:"21-24",AGE_18_20:"18-20",AGE_25_34:"25-34",AGE_35_44:"35-44",AGE_45_49:"45-49",AGE_50_54:"50-54",AGE_55_64:"55-64",AGE_65_PLUS:"65+"}),u={[d.AGE_18_20]:2,[d.AGE_21_24]:3,[d.AGE_25_34]:4,[d.AGE_35_44]:5,[d.AGE_45_49]:6,[d.AGE_50_54]:7,[d.AGE_55_64]:8,[d.AGE_65_PLUS]:9,AGE_UNSUPORTED:10},T=s.Z.ONE_MONTH,c={[s.Z.ONE_WEEK]:r.Z.DAILY,[s.Z.ONE_MONTH]:r.Z.DAILY,[s.Z.THREE_MONTH]:r.Z.WEEKLY,[s.Z.SIX_MONTH]:r.Z.WEEKLY,[s.Z.ONE_YEAR]:r.Z.WEEKLY},p=Object.freeze({DETAIL:"/detail/",HOME:"/"}),A={[s.Z.ONE_WEEK]:1,[s.Z.ONE_MONTH]:2,[s.Z.THREE_MONTH]:3,[s.Z.SIX_MONTH]:4,[s.Z.ONE_YEAR]:5},h={[s.Z.ONE_WEEK]:7,[s.Z.ONE_MONTH]:30,[s.Z.THREE_MONTH]:90,[s.Z.SIX_MONTH]:180,[s.Z.ONE_YEAR]:365,[s.Z.TWO_YEAR]:730},R={MALE:"male",FEMALE:"female",UNSPECIFIED:"unspecified"},I={...R,UNSPECIFIED:"unknown"},S={[R.MALE]:0,[R.FEMALE]:1,[R.UNSPECIFIED]:2},m={TOP_TRENDS_INTERNAL:"1",GROWING_TRENDS_INTERNAL:"2",BREAKOUT_TRENDS_INTERNAL:"3",SEASONAL_TRENDS_INTERNAL:"4",TOP_MONTHLY_TRENDS:"1",TOP_YEARLY_TRENDS:"2",GROWING_TRENDS:"3",SEASONAL_TRENDS:"4"},O=Object.freeze({[m.TOP_TRENDS_INTERNAL]:"Top Trends",[m.GROWING_TRENDS_INTERNAL]:"Growing Trends",[m.BREAKOUT_TRENDS_INTERNAL]:"Breakout Trends"}),N={[m.TOP_MONTHLY_TRENDS]:"Top Monthly Trends",[m.TOP_YEARLY_TRENDS]:"Top Yearly Trends",[m.GROWING_TRENDS]:"Growing Trends",[m.SEASONAL_TRENDS]:"Seasonal Trends"},g=Object.freeze({L1:1,L2:2,L3:3}),D=Object.freeze({ONE_MONTH:2,THREE_MONTHS:3,SIX_MONTHS:4,ONE_YEAR:5}),b=Object.freeze({HIGH_VOLUME:1,GROWTH:2}),L=Object.freeze({HIGH_VOLUME:"HIGH_VOLUME",GROWTH:"GROWTH"}),C=Object.freeze({NC_ENGAGEMENT_PLUS_ACTIVE_FOLLOWERS_90d:1}),P="https://business.pinterest.com/en-us/blog/how-to-build-audience-pinterest/",f=`https://trends.pinterest.com${p.DETAIL}`,v="conversion-trends-default-tour-id",M="conversion-trends-fre-modal-tour-id",y=Object.freeze([s.Z.ONE_MONTH,s.Z.ONE_YEAR,s.Z.THREE_MONTH,s.Z.ONE_MONTH]),w="https://i.pinimg.com/originals/61/40/59/61405960405378c80913b9b93c510b7f.png",H="https://i.pinimg.com/originals/21/92/49/219249b36e852fe7c2efb3789aee3d72.png",U={p100Banner:"https://i.pinimg.com/originals/45/12/ef/4512ef5659332bd6b6d33b523636fcb9.png",bannerImageLeft:"https://i.pinimg.com/originals/1b/72/a3/1b72a3c673ae270ef358ccc2823ffea4.png",bannerImageRight:"https://i.pinimg.com/originals/f1/fc/dc/f1fcdc5416c9ab74048549a3f8a98281.png",bannerImageBackground:"https://i.pinimg.com/originals/a7/d5/5f/a7d55feded560ca866d12154412e58d4.png"},G="https://i.pinimg.com/originals/3d/2f/41/3d2f41008f24a1839f25021cf78e908d.png",Z=444,F="ads_interest_resource",Y=["conversions","brandAwareness","consideration"],B=10,W=91,x={PAGES:p,TOAST_DURATION:3e3,Z_INDEX_TRENDS_HEADER:a,Z_INDEX_TRENDS_FEEDBACK_BUTTON:o,Z_INDEX_TRENDS_AUTOCOMPLETE_BOX:l,Z_INDEX_TRENDS_SEARCH_FORM:E,Z_INDEX_TRENDS_TOOLTIP:_,DEPRECATED_GESTALT_COLORS_HEX_VALUES:{red:"var(--base-color-red-300)",white:"#FFF",lightGray:"#EFEFEF",gray:"#8E8E8E",darkGray:"#333",green:"#0FA573",pine:"#0A6955",olive:"#364A4C",blue:"#4A90E2",navy:"#004B91",midnight:"#133A5E",purple:"#B469EB",orchid:"#8046A5",eggplant:"#5B2677",maroon:"#6E0F3C",watermelon:"#F13535",orange:"#E3780C"},MOBILE_MAX_WIDTH:576,FEEDBACK_CHAR_LIMIT:3e3,DEFAULT_CARD_WIDTH:357,DEFAULT_CARD_HEIGHT_RATIO:.65,FIVE_CARD_WIDTH:204,FIVE_CARD_HEIGHT_RATIO:.74,FIVE_LEFT_IMAGE_WIDTH_RATIO:.65,SMALL_CARD_WIDTH:220,DEFAULT_DAYS:"360",CARD_PADDING:10,FIVE_CARD_PADDING:24,PAGE_PADDING:160,MOBILE_HEIGHT:280,DESKTOP_HEIGHT:340,DESKTOP_PREDICTION_CHART_HEIGHT:480,DESKTOP_MOMENT_PREDICTION_CHART_HEIGHT:440,MOBILE_WIDTH:360,DESKTOP_WIDTH:900,CARD_WIDTH_PLUS_PADDING:377,AGE_21_PLUS:"21+",DEFAULT_COUNTRY:"US",TOP_TRENDS_PARAMETER:"topTrendsParameter",DEFAULT_DESIRED_CARD_PER_ROW:3,EXTERNAL_DESIRED_CARD_PER_ROW:5,DATE_FILTER_FORMAT:"MM/DD/YY",ALL:"all",TRENDS_CAMPAIGN_PLANNER:"TRENDS_CAMPAIGN_PLANNER",TRENDS:"TRENDS",PICK:"pick",PLUS_ICON:"+",MINUS_ICON:"-",FILTERABLE_TABLE_ROWS_PER_PAGE:Object.freeze({FIFTY:"50",ONE_HUNDRED:"100",TWO_HUNDRED_FIFTY:"250"}),DEBOUNCE_MILISECONDS:300,FILTER_SECTION:{FILTER_BAR_WIDTH:270,FILTER_BAR_MIN_HEIGHT:432,DATE_RANGE_WIDTH:178,DATE_PICKER_WIDTH:166,EXTERNAL_FILTER_BAR_WIDTH:225},DEFAULT_NUM_TOP_TRENDS:250,DEFAULT_EXTERNAL_NUM_TOP_TRENDS:50,GENDER:R,GENDER_MP:I,GENDER_TO_THRIFT_CONST:S,AGE_BUCKETS:d,AGE_TO_THRIFT_CONST:u,THRIFT_TO_AGE_CONST:{2:"18-20",3:"21-24",4:"25-34",5:"35-44",6:"45-49",7:"50-54",8:"55-64",9:"65+"},THRIFT_TO_GENDER_CONST:{0:"male",1:"female",2:"unknown"},LOOK_BACK_WINDOW:s.Z,LOOK_BACK_WINDOW_DEFAULT:T,LOOK_BACK_WINDOW_TO_THRIFT_CONST:A,LOOK_BACK_WINDOW_TO_AGGREGATION_CONST:c,LOOK_BACK_WINDOW_TO_DAYS:h,TRENDS_TYPES:m,TRENDS_INTERNAL_TYPES_VALUES_TO_LABELS:O,TRENDS_EXTERNAL_TYPES_VALUES_TO_LABELS:N,URL_PARAM_BOOLEAN_VALUES:{TRUE:"true",FALSE:"false"},SEASONALITY_SCORE_THRESHOLD:.825,SEASONALITY_SCORE_OLD_THRESHOLD:.75,SEASONALITY_SCORE_THRESHOLD_CUTOVER_DATE:"2024-04-08",SORT_ORDER:Object.freeze({DESC:"desc",ASC:"asc"}),FILTER_TYPES:Object.freeze({OPPORTUNITY:"OPPORTUNITY",CAMPAIGN:"CAMPAIGN"}),SORT_BY:Object.freeze({TREND_RANK:"TREND_RANK",TOTAL_SEARCH:"TOTAL_SEARCH",WEEKLY_CHANGE:"WEEKLY_CHANGE",MONTHLY_CHANGE:"MONTHLY_CHANGE",YEARLY_CHANGE:"YEARLY_CHANGE"}),URL_JOIN_SIGN:"|",CONCATENATED_STRING_SEPARATOR:", ",CSV_SEPARATOR:",",TERM_ALL:"all",DEBOUNCE_AUDIENCE_SIZE:1e3,MAX_ADD_TERMS:50,L1_SECTIONS:{ALL:{value:"all",label:"All categories"},FOOD_AND_DRINK:{value:"foodanddrink",label:"Food and drinks",id:"918530398158"},BEAUTY:{value:"beauty",label:"Beauty",id:"935541271955"},HOME_DECOR:{value:"homedecor",label:"Home decor",id:"935249274030"},FASHION:{value:"fashion",label:"Fashion",id:"948967005229"},TRAVEL:{value:"travel",label:"Travel",id:"908182459161"},ART:{value:"art",label:"Art",id:"961238559656"},QUOTES:{value:"quotes",label:"Quotes",id:"948192800438"},ENTERTAINMENT:{value:"entertainment",label:"Entertainment",id:"953061268473"},DIY_AND_CRAFTS:{value:"diyandcrafts",label:"DIY and crafts",id:"934876475639"},HEALTH:{value:"health",label:"Health",id:"898620064290"},WEDDINGS:{value:"weddings",label:"Wedding",id:"903260720461"},EVENT_PLANNING:{value:"eventplanning",label:"Event planning",id:"941870572865"},LAWN_AND_GARDEN:{value:"lawnandgarden",label:"Gardening",id:"909983286710"},ANIMALS:{value:"animals",label:"Animals",id:"925056443165"},PARENTING:{value:"parenting",label:"Parenting",id:"920236059316"},EDUCATION:{value:"education",label:"Education",id:"922134410098"},VEHICLES:{value:"vehicles",label:"Vehicles",id:"918093243960"},DESIGN:{value:"design",label:"Design",id:"902065567321"},SPORTS:{value:"sports",label:"Sport",id:"919812032692"},ELECTRONICS:{value:"electronics",label:"Electronics",id:"960887632144"},FINANCE:{value:"finance",label:"Finance",id:"913207199297"},ARCHITECTURE:{value:"architecture",label:"Architecture",id:"918105274631"}},BASE_BANNER_HEIGHT:627,COUNT_TYPES:{COUNT:"count",NORMALIZED_COUNT:"normalizedCount"},EXTERNAL_LOOKBACK_WINDOW_MAPPED_TREND_TYPES:y,FEEDBACK_SLACK_CHANNEL:"slack://channel?team=T024LJUGB&id=CKBF9A6EL",MAX_TERMS:4,COUNTRY_FULL_NAMES:{US:"the United States",CA:"Canada",GB:"the United Kingdom",IN:"India",AU:"Australia"},CONCATENATED_INTERESTS_PARAM_KEY:"concatenatedInterests",FILTER_INTEREST_IDS_PARAM_KEY:"filterInterestIds",FILTER_AGE_IDS_PARAM_KEY:"filterAgeIds",FILTER_GENDERS_PARAM_KEY:"filterGenders",EXPORT_TYPES:{DISCOVER:"discover",DETAILS:"details",CAMPAIGN:"campaignPlan"},EXPORT_NA:"N/A",EXPORT_ALL:"All",EXPORT_NONE:"None",ENGLISH_LANGUAGE_CODE:"en",KEYWORD_SPLIT_CHARACTER:`
`,COUNTRY_PREFIX_POSTAL_CODE_SEPARATOR:":",EXPORT_MESSAGE_HEADER:"Export in progress",DEPRECATED_COLOR_VALUES:["blue","green","purple","orange","red","maroon","orchid","navy","pine","watermelon"],EXPORT_MESSAGE:"This should only take a few seconds. Don't go back.",POPULAR_PINS_MAXIMUM_IMAGES:9,MAXIMUM_TERM_IMAGES_BULK_SIZE:250,TERM_IMAGE_MEMCACHE_KEY_PREFIX:"timg:",EXTRA_TERM_IMAGES:80,DESIRED_PIN_IMAGE_SIZE:"236x",PIN_IMAGE_URL_PREFIX:"https://i.pinimg.com/",PIN_IMAGE_URL_SUFFIX:".jpg",PIN_IMAGE_DEFAULT_CACHE_TIME_S:86400,DOUBLE_ROW_CARD_WIDTH:170,TOP_TRENDS_CAROUSEL_TERMS:9,TRENDS_FOR_PINS_MODULE_BREAK_WIDTH:1380,TRENDS_SEARCHBAR_HEIGHT:193,TOP_TRENDS_CAROUSEL_EXTENDED_TERMS:30,TOP_TRENDS_UNAUTH_CAROUSEL_TERMS:25,TOP_TRENDS_DOUBLE_ROW_MAX_TERMS:6,DETAILS_PAGE_SEARCH_OVERTIME_SUBTITLE_WIDTH:750,PT_IMAGE_SIZE:"236x",FILTERED_TABLE_IMAGE_SIZE:"30x30",TOP_TREND_CAROUSEL_IMAGE_SIZE:"236x",MOMENT_IMAGE_CARD_SIZE:"70x70",PERSONALIZED_TREND_TYPES:L,PREDICTION_SUPPORTED_COUNTRIES:["US"],MOMENT_PREDICTION_LOOKBACK_DAYS:730,MILLISECONDS_PER_DAY:864e5}},879233:function(e,t,n){n.d(t,{Z:()=>i});let i=(0,n(667294).createContext)({isUpsellUnauthModalOpen:!1,openUpsellUnauthModal:()=>{},closeUpsellUnauthModal:()=>{}})},872103:function(e,t,n){n.d(t,{Z:()=>i});let i=Object.freeze({DAILY:1,WEEKLY:2,BIWEEKLY:3,MONTHLY:4})},357966:function(e,t,n){n.d(t,{D9:()=>c,J5:()=>T,QT:()=>R,kc:()=>A,nc:()=>h,pV:()=>u,y1:()=>p});var i=n(667294),r=n(312048),s=n(325476),a=n(879233),o=n(357045),l=n(230201),E=n(935059),_=n(774838),d=n(893957);let u=()=>{let e=(0,r.TH)();return(0,i.useMemo)(()=>new URLSearchParams(e.search).get("country")||"US",[e])},T=e=>{let t=(0,r.TH)(),{isInternalIP:n}=(0,_.B)(),{logContextEvent:i}=(0,l.u)(),a=new URLSearchParams(t.search);(0,d.Z)(()=>{Object.values(o.Z.URL_PARAM_UTM_VALUES).some(e=>null!==a.get(String(e)))&&i({event_type:13,view_type:e,aux_data:{release_version:2,is_internal_ip:n,...Object.values(o.Z.URL_PARAM_UTM_VALUES).reduce((e,t)=>(e[String(t)]=a.get(String(t)),e),{})}})}),(0,s.Z)(o.Z.URL_PARAM_UTM_VALUES.UTM_SOURCE,"replaceWithoutRefresh","")(),(0,s.Z)(o.Z.URL_PARAM_UTM_VALUES.UTM_MEDIUM,"replaceWithoutRefresh","")(),(0,s.Z)(o.Z.URL_PARAM_UTM_VALUES.UTM_CAMPAIGN,"replaceWithoutRefresh","")(),(0,s.Z)(o.Z.URL_PARAM_UTM_VALUES.UTM_CONTENT,"replaceWithoutRefresh","")(),(0,s.Z)(o.Z.URL_PARAM_UTM_VALUES.UTM_TERM,"replaceWithoutRefresh","")(),(0,s.Z)(o.Z.URL_PARAM_UTM_VALUES.UTM_CREATIVE,"replaceWithoutRefresh","")()},c=e=>{let t=(0,i.useRef)(null);return(0,i.useEffect)(()=>{t.current=e},[e]),t.current},p=(e,t)=>{let n=(0,i.useRef)(void 0),r=()=>{n.current&&clearTimeout(n.current)};return(0,i.useEffect)(()=>r,[]),i=>{r(),n.current=setTimeout(()=>{e(i)},t)}},A=(e,t="0px")=>{let[n,r]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let n=new IntersectionObserver(([e])=>{r(e.isIntersecting)},{rootMargin:t});return e.current?(n.observe(e.current),()=>{n.disconnect()}):()=>{}},[]),n};function h(){return(0,i.use)(a.Z)}let R=()=>{let e=(0,E.Z)(),t=(0,_.B)();return t.advertiser?t.advertiser.owner_user_id:e.isAuth&&e.id||""}},325476:function(e,t,n){n.d(t,{Z:()=>l});var i=n(667294),r=n(312048),s=n(698553),a=n(575820),o=n(341687);let l=function(e,t,n){let l=(0,r.s0)(),{search:E,pathname:_="/"}=(0,r.TH)(),d=(0,i.useMemo)(()=>new URLSearchParams(E),[E]),u=i=>{let r="reset"!==t?(0,o.Z)(window.location.search):{},E=(0,s.Km)({..."resetWithoutRefresh"===t?{}:r,[e]:i});if(!t)return;let d=n?`${n}`:_,u=(0,a.ru)(d,{...E});("push"===t||"resetWithoutRefresh"===t)&&l(u),"replace"===t&&l(u,{replace:!0}),"reset"===t&&(window.location.href=u),"replaceWithoutRefresh"===t&&r[e]!==i&&window.history.replaceState(null,"",u)};return function(t){"function"==typeof t?u(t((0,s.AY)(d.get(e)))):u(t)}}},792323:function(e,t,n){n.d(t,{Z:()=>i});let i=Object.freeze({ONE_WEEK:"7D",ONE_MONTH:"30D",THREE_MONTH:"90D",SIX_MONTH:"180D",ONE_YEAR:"365D",TWO_YEAR:"730D"})},398839:function(e,t,n){n.d(t,{Y:()=>r});var i=n(452391);let r=["US","CA","IT+ES+PT+GR+MT","IT","ES","DE+AT+CH","DE","GB+IE","FR","SE+DK+FI+NO","NL+BE+LU","PL+RO+HU+SK+CZ","MX+AR+CO+CL","CO","AR","MX","BR","AU+NZ","JP","ID","IN","MY","PH","TH","SA","EG","TR","KR","AE+SA+KW+QA+OM+BH+EG+IQ+DZ","IL+NG+PK+ZA+TR+MA+IN","CR+DO+EC+GT+PE","CY+CZ+GR+HU+MT+PL+RO+SK"];i.ZP.FILTER_INTEREST_IDS_PARAM_KEY,i.ZP.FILTER_AGE_IDS_PARAM_KEY,i.ZP.FILTER_GENDERS_PARAM_KEY},357045:function(e,t,n){n.d(t,{Z:()=>i});let i=Object.freeze({IS_SEASONAL:"seasonal",TERMS:"terms",COUNTRY:"country",EDITORIAL_INDEX:"editorial",SHOULD_MOCK:"shouldMock",EMPTY_HERO_BANNER_MOCK:"emptyHeroBanner",TRENDS_PRESET:"trendsPreset",ADVERTISER_ID:"advertiserId",END_DATE:"endDate",SELECTED_END_DATE:"selectedEndDate",AGE_BUCKET:"ageBucket",GENDER:"gender",LOOK_BACK_WINDOW:"lookbackWindow",COUNTS_TYPE:"countsType",DATE_RANGE:"dateRange",AGGREGATION_LEVEL:"aggregationLevel",SORT_BY:"sortBy",SORT_ORDER:"sortOrder",L1_INTEREST_IDS:"l1InterestIds",L2_INTEREST_IDS:"l2InterestIds",L3_INTEREST_IDS:"l3InterestIds",KEYWORDS_TO_EXCLUDE:"keywordsToExclude",KEYWORDS_TO_INCLUDE:"keywordsToInclude",RANKING_METHOD:"rankingMethod",AGE_DETAILS_PAGE:"ageDetailsPage",GENDER_DETAILS_PAGE:"genderDetailsPage",TOP_TRENDS:"topTrends",MOMENTS:"moments",HAS_PREDICTIONS:"hasPredictions",SHOW_PREDICTION:"showPrediction",URL_PARAM_UTM_VALUES:Object.freeze({UTM_SOURCE:"utm_source",UTM_MEDIUM:"utm_medium",UTM_CAMPAIGN:"utm_campaign",UTM_CONTENT:"utm_content",UTM_TERM:"utm_term",UTM_CREATIVE:"utm_creative"}),EVENT:"event",GRAPH_EVENT:"graphEvent",PRODUCT_CATEGORIES:"product_categories",PAGE_NUMBER:"page",TOPIC_INTEREST_IDS:"topicInterestIds",PARENT_PRODUCT_CATEGORY:"parentProductCategory",SHOW_SIDE_NAV:"showSideNav",VIEW:"view",TAB:"tab",SHOW_UNAUTH_MODAL:"showUnauthModal",NEXT_URL:"nextUrl"})},698553:function(e,t,n){n.d(t,{$X:()=>d,AY:()=>I,BC:()=>U,Km:()=>A,Lp:()=>b,Nh:()=>L,Rf:()=>w,Sy:()=>c,X6:()=>o,XN:()=>H,Xb:()=>C,Xy:()=>_,Ye:()=>h,ZB:()=>N,ZQ:()=>P,_S:()=>v,_j:()=>l,d2:()=>f,dV:()=>R,g9:()=>T,hm:()=>E,iF:()=>m,k2:()=>S,oH:()=>D,qA:()=>p,qn:()=>u,sR:()=>a,tB:()=>g});var i=n(452391),r=n(398839),s=n(415919);n(739614);let a=(e,t,n,i=!1)=>(e.lineChartData=[...e.lineChartData,{x:t,y:n.count}],e.lineChartNormalizedData=[...e.lineChartNormalizedData,{x:t,y:n.normalizedCount}],i&&(e.areaChartData=[...e.areaChartData??[],{x:t,y:n.predictedUpperBoundCount,y0:n.predictedLowerBoundCount}],e.areaChartNormalizedData=[...e.areaChartNormalizedData??[],{x:t,y:n.predictedUpperBoundNormalizedCount,y0:n.predictedLowerBoundNormalizedCount}]),e),o=(e,t)=>(0,s.f)(new Date(e),t),l=(e,t)=>new Date(e).toLocaleDateString(t,{year:"numeric",month:"numeric",day:"numeric",timeZone:"UTC"}),E=(e,t)=>e||![3,4].includes(t),_=e=>!e||0===e.length,d=e=>_(e)?"":`${e}`.replace(/\D/g,"");function u(e,t){return Math.round(e*10**t)/10}let T=e=>e.join(i.ZP.PLUS_ICON),c=e=>e&&""!==e?e.split(i.ZP.PLUS_ICON):[],p=e=>{for(let t of i.ZP.DEPRECATED_COLOR_VALUES)if(!e.includes(t))return t;return i.ZP.DEPRECATED_COLOR_VALUES["0"]},A=e=>{let t={};for(let n in e){let i=e[n];null!==n&&""!==n.trim()&&null!=i&&""!==i.toString().trim()&&(t[n]=i)}return t},h=e=>e&&e!==i.ZP.ALL?e.split(i.ZP.URL_JOIN_SIGN):void 0,R=(e,t,n)=>e?[...e].sort((e,r)=>{let s=(e,n)=>t===i.ZP.SORT_ORDER.ASC?e-n:n-e;return n===i.ZP.SORT_BY.TOTAL_SEARCH?s(e.searchCount,r.searchCount):n===i.ZP.SORT_BY.WEEKLY_CHANGE?s(e.wow_change.index,r.wow_change.index):n===i.ZP.SORT_BY.MONTHLY_CHANGE?s(e.mom_change.index,r.mom_change.index):n===i.ZP.SORT_BY.YEARLY_CHANGE?s(e.yoy_change.index,r.yoy_change.index):s(e.reverseRank,r.reverseRank)}):[],I=e=>e&&null!=e&&/^\d+$/.test(e.toString())?parseInt(e.toString(),10):e,S=e=>e>=i.ZP.SEASONALITY_SCORE_THRESHOLD_CUTOVER_DATE?i.ZP.SEASONALITY_SCORE_THRESHOLD:i.ZP.SEASONALITY_SCORE_OLD_THRESHOLD,m=(e,t)=>r.Y.includes(e)?t[e]:void 0,O=(e,t)=>e>=S(t)?"Yes":"",N=({keywordsToInclude:e,keywordsToExclude:t,ageBucket:n,gender:r,lookbackWindow:s,seasonal:a,rankingMethod:o,searchParams:l,nonUrlParams:E,tableData:_})=>{let d=h(e)||[i.ZP.EXPORT_ALL],u=h(t)||[i.ZP.EXPORT_NONE],T=h(r)||[i.ZP.EXPORT_ALL],c=h(n)||[i.ZP.EXPORT_ALL],p=s&&s in i.ZP.LOOK_BACK_WINDOW_TO_DAYS?s:i.ZP.LOOK_BACK_WINDOW_DEFAULT,A=i.ZP.LOOK_BACK_WINDOW_TO_DAYS[p],R=Array.isArray(E?.checkedTerms)&&E?.checkedTerms?.length>0?E.checkedTerms.map(e=>{let t=_?.find(t=>e===t.term);return t?{trend:t?.term,totalSearches:t?.total_count.toString(),weeklyChange:t?.wow_change.value.toString(),monthlyChange:t?.mom_change.value.toString(),yearlyChange:t?.yoy_change.value.toString(),isSeasonal:O(t?.seasonality_score??0,l.dateRange.endDate)}:null}).filter(e=>null!==e):_?.map(e=>({trend:e.term,totalSearches:e.total_count.toString(),weeklyChange:e.wow_change.value.toString(),monthlyChange:e.mom_change.value.toString(),yearlyChange:e.yoy_change.value.toString(),isSeasonal:O(e.seasonality_score,l.dateRange.endDate)}))??[];return{dateRangeDate:l.dateRange.endDate,dateRangeDaysBefore:A.toString(),interests:i.ZP.CONCATENATED_INTERESTS_PARAM_KEY in E&&E[i.ZP.CONCATENATED_INTERESTS_PARAM_KEY]?E[i.ZP.CONCATENATED_INTERESTS_PARAM_KEY]:i.ZP.EXPORT_ALL,includeKeywords:d.join(", "),excludeKeywords:u.join(", "),ages:c.join(", "),genders:T.join(", "),seasonalOnly:a===i.ZP.URL_PARAM_BOOLEAN_VALUES.TRUE?"Yes":"No",trendType:o in i.ZP.TRENDS_INTERNAL_TYPES_VALUES_TO_LABELS?i.ZP.TRENDS_INTERNAL_TYPES_VALUES_TO_LABELS[o]:"",selectedTrends:R}},g=()=>{let e=window.open("http://example.com/waiting.html","_blank");return e?.document.write(`<h4>${i.ZP.EXPORT_MESSAGE_HEADER}</h4><p>${i.ZP.EXPORT_MESSAGE}</p>`),e},D=e=>_(e)||"all"===e?"":e.split(i.ZP.URL_JOIN_SIGN).join(", "),b=(e,t)=>{if(!_(e)){let n={[i.ZP.GENDER.FEMALE]:t._('Female', 'trends.filter.gender.female', 'Gender Female'),[i.ZP.GENDER.MALE]:t._('Male', 'trends.filter.gender.male', 'Gender Male'),[i.ZP.GENDER.UNSPECIFIED]:t._('Unspecified', 'trends.filter.gender.unspecified', 'Unspecified Gender')};return e.split(i.ZP.URL_JOIN_SIGN).map(e=>n[e]).join(", ")}return""},L=e=>_(e)||"all"===e?0:e.split(i.ZP.URL_JOIN_SIGN).length,C=e=>Object.entries(e).reduce((e,[t,n])=>(Array.isArray(n)&&(e[t]=n.map(e=>({images:{"474x":{height:0,width:0,url:e}}}))),e),{}),P=(e,t)=>{let n=[...e.results?.terms||[]].sort((e,t)=>t.affinity-e.affinity);return void 0!==t&&t>0?n.filter(e=>e.affinity>=t):n},f=(e,t,n=!1)=>!(null==e||0===e.trim().length||(n?0>Number.parseFloat(e.trim()):0>=Number.parseFloat(e.trim()))||void 0!==t&&e.trim().length<t),v="000000000000000000",M=/^[A-z0-9]{18}$/,y=/\b([A-z0-9]{18})\b/,w=e=>M.test(e)&&e.substr(15)===(e=>{let t,n="";for(let i=0;i<3;i+=1){t=0;for(let n=0;n<5;n+=1){let r=e.substring(5*i+n,5*i+n+1);r.toUpperCase()===r&&r>="A"&&r<="Z"&&(t+=1<<n)}t<=25?n+="ABCDEFGHIJKLMNOPQRSTUVWXYZ".substring(t,t+1):n+="012345".substring(t-26,t-25)}return n})(e.substr(0,15))&&"006"===e.slice(0,3)||e===v,H=e=>{if(e.length<18)return e;let t=e.match(y);return t&&t[0]?t[0]:e},U=(e,t=0)=>{e.current?.scrollIntoView(),window.scrollBy(0,-t)}},415919:function(e,t,n){n.d(t,{f:()=>i,i:()=>r});let i=(e,t)=>e.toLocaleDateString(t,{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"}),r=(e,t)=>i(new Date(e),t)},589172:function(e,t,n){n.d(t,{Z:()=>r});var i=n(501010);function r(e){let{expName:t,anyEnabled:n,group:r}=function({experimentsClient:e,skipActivation:t}){let{checkExperiment:n}=e,i=n("web_masonry_v2",{dangerouslySkipActivation:t});return i.group?{expName:"web_masonry_v2",...i}:{expName:"",anyEnabled:!1,group:""}}({experimentsClient:(0,i.Z)(),skipActivation:e?.skipActivation??!1});return{expName:t,anyEnabled:n,group:r,isMeasureAllEnabled:"enabled_measure_all"===r||"enabled_measure_all_impression_fix"===r,isImpressionFixEnabled:"control_impression_fix"===r||"enabled_impression_fix"===r||"enabled_measure_all_impression_fix"===r}}},79271:function(e,t,n){n.d(t,{Fw:()=>I,OC:()=>p,ZP:()=>R});var i=n(667294),r=n(230201),s=n(589172),a=n(609252),o=n(774838),l=n(739405),E=n(281213),_=n(358198),d=n(2061),u=n(767415),T=n(177433);let c=0,p=()=>c,A={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},EditorialBoard:{impressionType:"editorialBoardImpressions",idType:"boardIdStr",eventType:3700},VaseAnnotation:{impressionType:"vaseAnnotationImpressions",idType:"vaseAnnotationUrlStr",eventType:16444}},h=({events:e,startTime:t,endTime:n})=>e?.filter(e=>e>=t&&e<=n)||[];function R({carouselData:e,closeupImpressionType:t,closeupNavigationType:n,componentType:p,contextLogData:R,clientTrackingParams:I,duploShouldTrackPinEvents:S,elementType:m,impressionAuxFields:O,inImpressionExp:N,impressionType:g,impressionsFramework:D,isPaused:b,loggingId:L,objectIdStr:C,slotIndex:P,trackCarousel:f,viewData:v,viewParameter:M,viewType:y,isPromoted:w,storyPinProductEventData:H}){let{logContextEvent:U}=(0,r.u)(),{logMrcVideoAdEventOnPlay:G}=(0,E.H)(),{addImpression:Z}=(0,_.WW)()||{},{logStat:F}=(0,d.Yg)(),Y=D||a.Z,B=(0,i.useRef)(null),W=(0,i.useRef)(e=>{});W.current=i=>{let r=A[g],s=r.idType,a={clientTrackingParams:I,endTime:i.endTime,[s]:L,slotIndex:P,time:i.startTime,renderDuration:i.endTime-i.startTime,type:t,...O,forcedExit:"removed"===i.forcedExit?0:void 0};if("Pin"===g){c+=1;let e=[],t=i.visibleEvents||new Map,n=i.hiddenEvents||new Map;(O&&O.isPromoted||w)&&[1,50,80,2,102].forEach(r=>{let s=h({events:t.get(r),startTime:i.startTime,endTime:i.endTime}),a=h({events:n.get(r),startTime:i.startTime,endTime:i.endTime});s.forEach(t=>{e.push({type:r,time:t||0,visible:!0})}),a.forEach(t=>{e.push({type:r,time:t||0,visible:!1})})}),a={...a,pinCellWidth:i.pinCellWidth||0,pinCellHeight:i.pinCellHeight||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,visibleEvents:e.sort((e,t)=>e.time-t.time)},O?.nearDupSignature&&Z&&p&&[13007,13176,68].includes(p)&&Z(O.nearDupSignature)}let o={component:p,object_id_str:C,view_type:y,view_data:v||{},view_parameter:M};if(f)e&&f&&U({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...a,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...o,aux_data:{...R}});else{let e={clientTrackingParams:I,event_type:r.eventType,...o,element:m,event_data:{[r.impressionType]:"Story"===g?a:[a],...H?{storyPinProductEventData:H}:{}},aux_data:{closeup_navigation_type:n,...R}};U(e),G(e)}S&&F("log_pin_impression")};let{expName:x,group:V}=(0,s.Z)({skipActivation:!0}),k=(0,l.ZP)(),K=(0,T.Zv)(),{isAuthenticated:X}=(0,o.B)(),j=(0,i.useCallback)(()=>{let e=!1;try{let{current:t}=B;if(t instanceof HTMLElement&&(!w||t.getElementsByTagName("img").length>0)){let n=Y.start(t);n.onExitViewport(W.current).setDebugId(L||"unknown"),S&&n.onEnterViewport(()=>{F("log_pin_impression_track_enter_viewport")}),e=!0,V&&(0,u.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:k,experimentName:x,group:V,handlerId:K,isAuthenticated:X,slotIndex:P??"unknown"}})}}catch{window.console.error('Can only track impressions for type "HTMLElement"')}S&&F("log_pin_impression_track",{didStartTracking:e})},[B.current]);return(0,i.useEffect)(()=>(N&&!Y.inExperiment&&Y.setExperimentStatus(!0),b||j(),()=>{let{current:e}=B;e instanceof HTMLElement&&(!w||e.getElementsByTagName("img").length>0)&&Y.stop(e)}),[b,j]),B}let I=({children:e,...t})=>e({impressionTrackerRef:R(t)})},936367:function(e,t,n){function i(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z3:()=>d,ZP:()=>T,LU:()=>u});let r=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,s={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},a={},o={background:"#FF8A8A",transform:"scale(.98)"},l={init:e=>({transform:`scale(${a[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[s.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[s.exit]:o,[s.stopped]:o,[s.paused]:o,[s.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class E{constructor(e){i(this,"lastIntersectionChange",null),i(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),i(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),i(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),i(this,"handleIntersectionVisibilityChange",(e,t)=>{this.lastIntersectionChange=e,[{type:1,isVisible:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return e.isIntersecting&&e.boundingClientRect.top>=143&&e.boundingClientRect.top<t},isHidden:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return!e.isIntersecting||e.boundingClientRect.top<143||e.boundingClientRect.top>=t}},{type:50,isVisible:e=>e.intersectionRatio>=.5,isHidden:e=>e.intersectionRatio<.5},{type:80,isVisible:e=>e.intersectionRatio>=.8,isHidden:e=>e.intersectionRatio<.8},{type:2,isVisible:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return e.isIntersecting&&e.boundingClientRect.bottom<=t&&e.boundingClientRect.bottom>=143},isHidden:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return!e.isIntersecting||e.boundingClientRect.bottom<143||e.boundingClientRect.bottom>t}}].forEach(({type:n,isVisible:i,isHidden:r})=>{i(e)?this.lastLoggedVisibleEvent[n]||(this.addVisibleEvent(n,t),this.lastLoggedVisibleEvent[n]=!0):r(e)&&this.lastLoggedVisibleEvent[n]&&(this.addHiddenEvent(n,t),this.lastLoggedVisibleEvent[n]=!1)})}),i(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting,n=Date.now();this.handleIntersectionVisibilityChange(e,n),t&&!this.inViewport?(this.startTime=n,this.pinCellWidth=this.node.offsetWidth,this.pinCellHeight=this.node.offsetHeight,this._debug(s.enter,{startTime:n,node:this.node}),this.enterCallbacks.forEach(e=>e())):!t&&this.inViewport&&(this._debug(s.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId="",this.pinCellWidth=0,this.pinCellHeight=0,this.visibleEvents=new Map,this.hiddenEvents=new Map,this.lastLoggedVisibleEvent={1:!1,50:!1,80:!1,2:!1}}addVisibleEvent(e,t){let n=this.visibleEvents.get(e)||[];n.push(1e6*t),this.visibleEvents.set(e,n)}addHiddenEvent(e,t){let n=this.hiddenEvents.get(e)||[];n.push(1e6*t),this.hiddenEvents.set(e,n)}hasVisibleEvent(e){return this.visibleEvents.has(e)}hasHiddenEvent(e){return this.hiddenEvents.has(e)}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,r&&Object.assign(this.node.style,l.init(e)),this}pause(){return this.inViewport&&(this.addHiddenEvent(102,Date.now()),this._debug(s.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(s.resumed,{startTime:e}),this.startTime=e,this.addVisibleEvent(102,e),Object.keys(this.lastLoggedVisibleEvent).forEach(e=>{this.lastLoggedVisibleEvent[e]=!1}),this.lastIntersectionChange&&this.handleIntersectionVisibilityChange(this.lastIntersectionChange,e)}return this}stop(e){return this.inViewport&&(this._debug(s.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight,visibleEvents:this.visibleEvents,hiddenEvents:this.hiddenEvents}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight}}_debug(e,t){if(r)switch(window.console.log(`ðŸ“Œ ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),l[e]&&Object.assign(this.node.style,l[e]),e){case s.flushed:case s.paused:case s.exit:a[this.debugId]=!0}}}function _(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d=!0,u=!1;class T{constructor(){_(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),_(this,"_handleMutations",(e,t)=>{let n=this.mutationObservers.get(t);n&&n.offsetHeight<1&&n&&this.stop(n,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=u,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let n=this.activeImpressions.get(e);n&&(n.stop(t),n.mutationObserver&&this.mutationObservers.delete(n.mutationObserver),n.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer?.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new E(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer?.observe(e);let n=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(n)),t.mutationObserver&&this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=d){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority===u&&(this.pausePriority=e))}resume(e=d){(e!==u||this.pausePriority!==d)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=u)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:n}=t.getBoundingClientRect();return n>e?n:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:n}=t.getBoundingClientRect();return n<e?n:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let n={rootMargin:`${-e}px 0px ${-t}px`,threshold:[0,.5,.8,1]};this.observer?.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,n),Array.from(this.activeImpressions.values()).forEach(e=>this.observer?.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},609252:function(e,t,n){n.d(t,{Z:()=>i});let i=new(n(936367)).ZP},281213:function(e,t,n){n.d(t,{H:()=>E,W:()=>_});var i=n(667294),r=n(230201),s=n(213491),a=n(501010),o=n(785893);let{Provider:l,get:E}=(0,s.Z)("VideoPlayer");function _({children:e}){let{logContextEvent:t,logImpression:n}=(0,r.u)(),{checkExperiment:s}=(0,a.Z)(),[E,_]=(0,i.useState)(!1),[d,u]=(0,i.useState)([]),[T,c]=(0,i.useState)([]),[p,A]=(0,i.useState)({}),h=s("web_ads_mrc_video_impression").anyEnabled,R=e=>{A(t=>({...t,[e]:!0}))},I=(0,i.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],n=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");h&&(t||n)&&u(t=>[...t,e].slice(-1e3))}},[h]),S=(0,i.useCallback)(e=>{18===e.eventType&&h&&c(t=>[...t,e].slice(-1e3))},[h]);(0,i.useEffect)(()=>{let e=d.filter(e=>{let{pinIdStr:n}=e.event_data.pinImpressions[0];return!p[n]||!h||(t((e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}})(e)),!1)});e.length!==d.length&&u(e)},[d,h,t,p]),(0,i.useEffect)(()=>{let e=T.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(p[t]&&h){let t=(e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null})(e);return t&&n(t),!1}return!0});e.length!==T.length&&c(e)},[T,h,n,p]);let m=(0,i.useMemo)(()=>({captionsEnabled:E,logMrcVideoAdImpressionOnPlay:S,logMrcVideoAdEventOnPlay:I,setCaptionsEnabled:_,setVideoPlayed:R,videosPlayed:p}),[E,I,S,p]);return(0,o.jsx)(l,{value:m,children:e})}},739614:function(e,t,n){n.d(t,{$R:()=>R,Gd:()=>_,I3:()=>O,Kr:()=>l,MJ:()=>N,MP:()=>u,Mm:()=>i,OV:()=>o,Tp:()=>T,YB:()=>r,bA:()=>p,c3:()=>S,h0:()=>s,js:()=>a,kr:()=>m,lc:()=>A,mU:()=>h,nt:()=>I,nv:()=>d,rb:()=>E,wt:()=>c});let i=",",r="-",s=`
`,a="/",o=", ",l=["brandAwareness","consideration","videoViews"],E="Product | Media Planning Tool",_="http://pinch/mediaplanningpod",d="https://docs.google.com/document/d/1ExHoefENHwEiq56tGxUAHOxoX16Lc_7JGr99RVgDScM/edit#bookmark=kix.8xm9361cbpul",u="https://docs.google.com/document/d/1uSmZXN-TEjwm7_AjrDSEV5NzFM6P6FX8GFa7IeSXjwM/edit#bookmark=id.d23e6qi02ovi",T=Object.freeze({UTM_SOURCE:"utm_source"}),c={"Collections ad":"SHOP_THE_PIN","Shopping ad":"SHOPPING"},p={ALL:"ALL",SEARCH:"SEARCH",BROWSE:"BROWSE"},A="PUBLISHED",h="UNPUBLISHED",R={READY:"READY",INITIALIZING:"INITIALIZING",PERSONAS_INELIGIBLE_SIZE:"PERSONAS_INELIGIBLE_SIZE",TOO_SMALL:"TOO_SMALL",IN_PROGRESS:"IN_PROGRESS",INITIALIZING_PERSONA:"INITIALIZING_PERSONA"},I=1000535,S=506009,m="gpt-4o",O="/internal/planning_hub/gpt/",N="POST"},358198:function(e,t,n){n.d(t,{BW:()=>p,WW:()=>T});var i=n(686659),r=n(667294),s=n(357966),a=n(15881),o=n(213491),l=n(501010),E=n(418282),_=n(767415),d=n(785893);let{Provider:u,getMaybe:T}=(0,o.Z)("CloseupNearDupSigsTracker"),c=({group:e,children:t})=>{(0,r.useEffect)(()=>{(0,i.Z)("CloseupNearDupSigsTrackerContext","/app/www/closeup/CloseupNearDupSigsTrackerContext.tsx")},[]);let n=(0,E.Nl)(),o=(0,r.useRef)([]),l=(0,r.useRef)(new Set),T=(0,r.useRef)([]),c=(0,r.useRef)(new Set),p=(0,r.useRef)([null,[]]),A=(0,s.y1)(()=>{"enabled_skip_sync"!==e&&(n.setItem(a.S4,o.current),n.setItem(a.yb,T.current))},500),h=(0,r.useCallback)(()=>{if("enabled_skip_sync"===e)return;let t=Date.now(),i=n.getItem(a.S4),r=n.getItem(a.yb);if(i)try{Array.isArray(i)&&i.every(e=>"string"==typeof e)&&(o.current=i.slice(-5),l.current=new Set(o.current))}catch(e){(0,_.nP)("closeup_page.near_dup.session_storage_sync.closeup.fail",{sampleRate:1})}if(r)try{Array.isArray(r)&&r.every(e=>"string"==typeof e)&&(T.current=r.slice(-35),c.current=new Set(T.current))}catch(e){(0,_.nP)("closeup_page.near_dup.session_storage_sync.impression.fail",{sampleRate:1})}(0,_.LY)("closeup_page.near_dup.session_storage_sync.success",Date.now()-t,{sampleRate:.1,tags:{status:"success"}})},[o,T,n,e]),R=(0,r.useCallback)(e=>{if(c.current.has(e)&&(T.current=T.current.filter(t=>t!==e)),T.current.length>=35){let e=T.current.shift();e&&c.current.delete(e)}c.current.add(e),T.current.push(e)},[]),I=(0,r.useCallback)(e=>{if(l.current.has(e)&&(o.current=o.current.filter(t=>t!==e)),o.current.length>=5){let e=o.current.shift();e&&l.current.delete(e)}l.current.add(e),o.current.push(e),A()},[A]),S=(0,r.useCallback)(e=>{let[t,n]=p.current;if(t===e)return n;0===o.current.length&&0===T.current.length&&h();let i=Array.from(new Set([...T.current,...o.current]));return p.current=[e,i],i},[h]);(0,r.useEffect)(()=>A,[A]);let m=(0,r.useMemo)(()=>({addImpression:R,addCloseup:I,getTrackedNearDupSigs:S}),[R,I,S]);return(0,d.jsx)(u,{value:m,children:t})},p=({children:e})=>{(0,r.useEffect)(()=>{(0,i.Z)("CloseupNearDupSigsTrackerContext","/app/www/closeup/CloseupNearDupSigsTrackerContext.tsx")},[]);let{checkExperiment:t}=(0,l.Z)(),{anyEnabled:n,group:s}=t("web_closeup_rabbit_hole_dedup");return n&&s?(0,d.jsx)(c,{group:s,children:e}):(0,d.jsx)(u,{value:void 0,children:e})}},2061:function(e,t,n){n.d(t,{Yg:()=>l,ib:()=>_,nF:()=>u,xX:()=>d});var i=n(501010),r=n(774838),s=n(739405),a=n(767415);let o=({checkExperiment:e})=>{let{group:t}=e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0});return{logStat:(e,n)=>(0,a.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:t,...n}})}},l=()=>{let{isAuthenticated:e}=(0,r.B)(),t=(0,s.HG)(),{checkExperiment:n}=(0,i.Z)();return e&&!t?o({checkExperiment:n}):{logStat:()=>{}}},E=0,_=({checkExperiment:e,isAuthMweb:t})=>{if(!t)return;let{logStat:n}=o({checkExperiment:e});(E+=1)<10&&n(`repin_${E}`)};function d({checkExperiment:e,isDesktop:t,isAuthenticated:n}){if(!n)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,shouldPrefetchCloseupPreviewFragment:!1};if(t){let{anyEnabled:t}=e("auth_dweb_graphql_pin_page");return{isGraphQLEnabledForRelatedPins:t,isGraphQLEnabledInGeneral:t,shouldPrefetchCloseupPreviewFragment:!1}}{let{anyEnabled:t,group:n}=e("auth_mweb_graphql_pin_page");switch(n){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,shouldPrefetchCloseupPreviewFragment:!1};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,shouldPrefetchCloseupPreviewFragment:!1};case"enabled_prefetch_closeup_data":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,shouldPrefetchCloseupPreviewFragment:!0};case"only_closeup":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!1,shouldPrefetchCloseupPreviewFragment:!1};case"only_related_pins":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,shouldPrefetchCloseupPreviewFragment:!1};default:return{isGraphQLEnabledInGeneral:t,isGraphQLEnabledForRelatedPins:t,shouldPrefetchCloseupPreviewFragment:!1}}}}function u(){let{checkExperiment:e}=(0,i.Z)(),t=(0,s.HG)(),{isAuthenticated:n}=(0,r.B)();return d({checkExperiment:e,isDesktop:t,isAuthenticated:n})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/15549-4ccb157b6a698bf8.mjs.map